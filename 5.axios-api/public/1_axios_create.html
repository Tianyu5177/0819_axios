<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<script type="text/javascript" src="./js/axios.js"></script>

	<button id="btn1">点我</button><br><br>

	 <!-- 
		axios.create(config)
				a. 根据指定配置创建一个新的axios, 也就就每个新axios都有自己的配置
				b. 新axios只是没有取消请求和批量发请求的方法, 其它所有语法都是一致的
				c. 为什么要设计这个语法?
					需求: 项目中有部分接口需要的配置与另一部分接口需要的配置不太一样, 如何处理
					解决: 创建2个新axios, 每个都有自己特有的配置, 分别应用到不同要求的接口请求中
	-->
	
	<script type="text/javascript">
		let btn1 = document.getElementById('btn1')

		const instance = axios.create({
			baseURL: 'http://localhost:3000/'
		});

		btn1.onclick = ()=>{
			instance({
				method: 'get',
				url: '/get_persons',
			}).then(
				value => console.log(value),
				reason => console.log(reason)
			)
		}
	</script>

</body>
</html>
